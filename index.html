<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Protocolo Girasol v2.0 - San Valent√≠n</title>
    <style>
        :root {
            --primary: #ffcc00; 
            --bg: #1a1a1a;
            --text: #00ff41; 
            --error: #ff4444;
            --heart: #ff4d6d;
        }

        body {
            background-color: var(--bg);
            color: var(--text);
            font-family: 'Courier New', Courier, monospace;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
            overflow: hidden;
        }

        #game-container {
            max-width: 500px;
            width: 90%;
            text-align: center;
            border: 2px solid var(--text);
            padding: 2rem;
            background: rgba(0,0,0,0.9);
            position: relative;
            z-index: 10;
        }

        .sunflower-box { font-size: 80px; margin-bottom: 20px; transition: all 0.5s ease; }
        .growth-1 { transform: scale(0.3) translateY(50px); filter: grayscale(1); }
        .growth-2 { transform: scale(0.6) translateY(30px); filter: grayscale(0.5); }
        .growth-3 { transform: scale(1) translateY(0); filter: grayscale(0); }

        input {
            background: transparent; border: none; border-bottom: 2px solid var(--text);
            color: var(--primary); font-size: 1.2rem; text-align: center;
            width: 100%; outline: none; margin: 20px 0;
        }

        .btn {
            background: var(--text); color: black; border: none;
            padding: 10px 20px; font-weight: bold; cursor: pointer;
            text-transform: uppercase; margin: 5px;
        }

        #no-btn { position: relative; transition: 0.2s; }

        /* Lluvia de corazones */
        .heart {
            position: absolute; color: var(--heart);
            font-size: 20px; top: -20px;
            animation: fall linear forwards;
            user-select: none;
        }

        @keyframes fall {
            to { transform: translateY(105vh) rotate(360deg); }
        }

        .hidden { display: none; }
    </style>
</head>
<body>

<div id="game-container">
    <div id="system-header">[ACCESO RESTRINGIDO: PROYECTO GIRASOL]<hr></div>
    <div id="visuals" class="sunflower-box growth-1">üå±</div>

    <div id="quiz-section">
        <p id="question-text">Iniciando...</p>
        <input type="text" id="user-answer" placeholder="Respuesta..." autocomplete="off">
        <br>
        <button class="btn" onclick="checkAnswer()">Validar</button>
        <p id="sarcasm-msg" style="color: var(--error); font-size: 0.8rem;"></p>
    </div>

    <div id="final-msg" class="hidden">
        <h2 style="color: var(--primary)">üåª ¬°GIRASOL FLORECIDO! üåª</h2>
        <p>Has superado las pruebas de mi sistema.</p>
        <h3 style="color: white">¬øQuieres ser mi San Valent√≠n?</h3>
        <button class="btn" onclick="celebrate()">S√ç, ¬°ACEPTO!</button>
        <button class="btn" id="no-btn" onmouseover="moveNo()">NO</button>
    </div>
</div>

<script>
    const config = {
        questions: [
            { q: "¬øEn qu√© fecha fue nuestra primera cita?", a: "PON_AQU√ç_TU_FECHA" },
            { q: "¬øCu√°l fue la primera foto que te gust√≥ de nosotros?", a: "PON_AQU√ç_DETALLE_FOTO" },
            { q: "¬øA qu√© lugar viajamos juntos?", a: "PON_AQU√ç_LUGAR" }
        ],
        sarcasm: [
            "¬øSegura? El sistema detecta niveles bajos de memoria... üôÑ",
            "Error 404: Novia no encontrada con esa respuesta. ü§®",
            "¬°C√≥mo no te vas a acordar! Reintenta antes de que me apague. üíª",
            "Respuesta incorrecta. El girasol est√° juzg√°ndote en silencio. ü•Ä"
        ]
    };

    let currentStep = 0;
    const visuals = document.getElementById('visuals');
    const questionText = document.getElementById('question-text');
    const userAnswer = document.getElementById('user-answer');

    questionText.innerText = config.questions[0].q;

    function checkAnswer() {
        const input = userAnswer.value.toLowerCase().trim();
        const correct = config.questions[currentStep].a.toLowerCase().trim();

        if (input === correct) {
            currentStep++;
            userAnswer.value = "";
            document.getElementById('sarcasm-msg').innerText = "";
            if (currentStep === 1) { visuals.innerText = "üåø"; visuals.className = "sunflower-box growth-2"; }
            if (currentStep === 2) { visuals.innerText = "üåª"; visuals.className = "sunflower-box growth-3"; }
            
            if (currentStep < config.questions.length) {
                questionText.innerText = config.questions[currentStep].q;
            } else {
                showFinal();
            }
        } else {
            document.getElementById('sarcasm-msg').innerText = config.sarcasm[Math.floor(Math.random()*config.sarcasm.length)];
        }
    }

    function showFinal() {
        document.getElementById('quiz-section').classList.add('hidden');
        document.getElementById('final-msg').classList.remove('hidden');
    }

    function moveNo() {
        const btn = document.getElementById('no-btn');
        btn.style.top = Math.random() * 100 + "px";
        btn.style.left = Math.random() * 100 + "px";
    }

    function celebrate() {
        document.getElementById('final-msg').innerHTML = "<h2>‚ù§Ô∏è ¬°SAB√çA QUE DIR√çAS QUE S√ç! ‚ù§Ô∏è</h2><p>Te amo demasiado. Eres mi c√≥digo favorito.</p>";
        setInterval(createHeart, 150);
    }

    function createHeart() {
        const heart = document.createElement('div');
        heart.classList.add('heart');
        heart.innerText = "‚ù§Ô∏è";
        heart.style.left = Math.random() * 100 + "vw";
        heart.style.animationDuration = Math.random() * 2 + 3 + "s";
        document.body.appendChild(heart);
        setTimeout(() => heart.remove(), 5000);
    }
</script>
</body>
</html>